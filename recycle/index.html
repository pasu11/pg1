<html>
<head>


<script language="javascript" type="text/javascript">

var access_grant = 0;  

//Array that store log in user data: encrypt name/password, log in level, user no., real name, real password.
input_data = new Array(7);
//Array that contains all users data in encryption form.
GrantAccess = new Array(17);
GrantAccess[0]="OJSS^";
GrantAccess[1]="\\Z_MJWJ855";
GrantAccess[2]="staff";

GrantAccess[3]="\\NQQNFR"
GrantAccess[4]="KZ_GZXYJW:<;";
GrantAccess[5]="staff";

GrantAccess[6]="FQQJS";
GrantAccess[7]="\\TWR8=>XYTSJ";
GrantAccess[8]="member";

GrantAccess[9]="XYJUMFSNJ";
GrantAccess[10]="\\TWPUQF^7<>";
GrantAccess[11]="member";

GrantAccess[12]="IWZILJ";
GrantAccess[13]="SJFSIJWYMFQ><=";
GrantAccess[14]="member";

GrantAccess[15]="LZJXY";
GrantAccess[16]="LZJXY";
GrantAccess[17]="guest";

  
  function login()
	{		//starting function
	input_data[0] = ""; //It stores input name in encrypted form
	input_data[1] = ""; //It stores input password in encrypted form
	input_data[4] = document.form1.username.value;  //It stores input name
	input_data[5] = document.form1.password.value;  //It stores input password
	
	//=========================================
	//              Encryption
	//=========================================
	//Encrypt input name with +5
	for (x = 0; x < input_data[4].length; x++)
	{
	tt = input_data[4].charCodeAt(x) + 5;  //add 5 to a character ascii code
	input_data[0] = input_data[0]+String.fromCharCode(tt);  //convert the code back to character form
	//document.form1.username.value = document.form1.username.value + String.fromCharCode(tt);
	}
	
	//Encrypt input password with +5
	for (y = 0; y < input_data[5].length; y++)
	{
	tt = input_data[5].charCodeAt(y) + 5;
	input_data[1] = input_data[1] + String.fromCharCode(tt);
	}
	//=========================================
	//            End Encryption
	//=========================================

	
	
	//=========================================
	//           Varifying
	//=========================================
	//Varify encrypted input data with the database
	for (z = 0; z < 16;z= z + 3)//run until database is ended
	{
	//window.alert("in: " + input_data[0]+" database: "+GrantAccess[z]+" in: " + input_data[1]+" database: "+GrantAccess[z+1]);
		if ((GrantAccess[z]==input_data[0]) && (GrantAccess[z+1]== input_data[1]))
		{	//run here if name and password match the database
			
			input_data[3] = GrantAccess[z+2];	//stores user type
			if (GrantAccess[z+2]=="guest")  
			{  //run here if log in as guest (case 3)
			access_grant = 3;  
			z = 17;
			}
			else if (GrantAccess[z+2]=="member")
			{  //run here if log in as member (case 2)
			access_grant = 2;  
			z = 17;
			}
			else if (GrantAccess[z+2]=="staff")
			{
			access_grant = 1;
			z=17;
			}//end second if
			
		}//end first if
	
	}//end for loop
		
	//===================================
	//       Redirecting to page
	//===================================
	switch(access_grant)
	{
	case 1:  //staff log in
	window.alert("Welcome to Recycle Toronto, "+input_data[4] +". Clicking ok will take you to the "+ input_data[3] + " page.");
	location = "staff.html";
	res();
	break
	
	case 2:  //member log in
	window.alert("Welcome to Recycle Toronto, "+input_data[4] +". Clicking ok will take you to the "+ input_data[3] + " page.");
	location = "members.html";
	res();
	break

	case 3:  //guest log in
	res();
	location = "visitors.html";
	break
	
	default:  //access deny
	window.alert("Invalid user name or password, please click ok to retry.");
	res();
	break
	}
	
	
	}		//end function login()
	


  function res()
	{
	document.form1.username.value = "";
	document.form1.password.value = "";
	}

	

 </script>

<meta http-equiv="Content-Type" content="text/html; charset=gb2312"><style type="text/css">
<!--
body {
	background-color: #000000;
	background-image: url(images/back1.gif);
}
.style11 {color: #FFFFFF}
.style12 {
	color: #99FFFF;
	font-size: 12px;
}
.style14 {color: #66FF33}
.style16 {
	color: #FFFFFF;
	font-weight: bold;
}
.style17 {font-family: Arial, Helvetica, sans-serif}
.style18 {color: #6600FF; font-size: 24px; font-weight: bold;}
.style19 {
	color: #000000;
	font-size: 12px;
}
.style20 {
	color: #0000FF;
	font-weight: bold;
}
.style21 {
	color: #330099;
	font-weight: bold;
}
.style24 {color: #0033FF}
-->
</style></head>
<body>
<h1 class="style17">&nbsp;</h1>
<p class="style17">&nbsp;</p>
<p class="style17">&nbsp;</p>
<div align="center" class="style17">
      <table width="387" border="1" bordercolor="#000000">
        <tr bgcolor="#CCFF33">
          <td height="46" colspan="3"><div align="center" class="style18">Recycle Toronto Login Page</div></td>
        </tr>
        <tr bgcolor="#CCFF33">
          <td width="73" bgcolor="#009900"><p>&nbsp;</p>
          </td>
          <td width="223"><form name="form1" action="http://matrix.senecac.on.ca" method="POST">
            <div align="center">
              <p><strong>Login Name:</strong></p>
              <p>                <input type="text" name="username">
                <br>
                <br>
                <strong>Password:</strong> </p>
              <p>
                <input type="password" name="password">
                <br>
                <br>
                <input type="button" name="varify"  value="Log in"  onClick="login()">
                <input type="button" name="reset"  value="Reset"  onClick="res()">
              </p>
            </div>
          </form></td>
          <td width="69" bgcolor="#0000FF">&nbsp;</td>
        </tr>
        <tr bgcolor="#CCFF33">
          <td height="76" colspan="3"><div align="center">
            <p align="left" class="style19">If you are not a member or staff of RToronto. You may use <strong>GUEST</strong> as user name and password to login to our guest page. </p>
            <p align="left" class="style19">If you forget your login information, please <a href="forget.html"><span class="style24">click here</span></a> to find out.</p>
          </div></td>
        </tr>
  </table>
      <p>This is a page written for learning purpose.</p>
</div>
</body>
</html>
